
 <!DOCTYPE HTML>
<html lang="cn-zh">
<head>
  <meta charset="UTF-8">
  
    <title>python+selenium实现自动化会长测评 | GetFlag&#39;s Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="GetFlag">
    

    
    <meta name="description" content="首先吐槽下学校，我在学校带个信息安全社团，社团联合会那边经常很多形式主义的活动，没有实际意义，但是还得必须做，很烦，其中尤其这个会长测评，让大一的会员一个一个的做，还得催着交截图，很麻烦，于是就自己写了个自动化的，就是效率低点，不过挺实用的功能已经实现了，先贴代码，详细的日后再写">
<meta name="keywords" content="selenium,自动化,python">
<meta property="og:type" content="article">
<meta property="og:title" content="python+selenium实现自动化会长测评">
<meta property="og:url" content="http://flag0.com/2018/03/26/python自动化测试会长测评/index.html">
<meta property="og:site_name" content="GetFlag&#39;s Blog">
<meta property="og:description" content="首先吐槽下学校，我在学校带个信息安全社团，社团联合会那边经常很多形式主义的活动，没有实际意义，但是还得必须做，很烦，其中尤其这个会长测评，让大一的会员一个一个的做，还得催着交截图，很麻烦，于是就自己写了个自动化的，就是效率低点，不过挺实用的功能已经实现了，先贴代码，详细的日后再写">
<meta property="og:locale" content="cn-zh">
<meta property="og:image" content="http://flag0.com/img/images/python自动化会长测评/001.gif">
<meta property="og:updated_time" content="2018-03-26T15:32:49.986Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="python+selenium实现自动化会长测评">
<meta name="twitter:description" content="首先吐槽下学校，我在学校带个信息安全社团，社团联合会那边经常很多形式主义的活动，没有实际意义，但是还得必须做，很烦，其中尤其这个会长测评，让大一的会员一个一个的做，还得催着交截图，很麻烦，于是就自己写了个自动化的，就是效率低点，不过挺实用的功能已经实现了，先贴代码，详细的日后再写">
<meta name="twitter:image" content="http://flag0.com/img/images/python自动化会长测评/001.gif">

    
    <link rel="alternative" href="/atom.xml" title="GetFlag&#39;s Blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="GetFlag&#39;s Blog">GetFlag&#39;s Blog</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:flag0.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/03/26/python自动化测试会长测评/" title="python+selenium实现自动化会长测评" itemprop="url">python+selenium实现自动化会长测评</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="GetFlag" target="_blank" itemprop="author">GetFlag</a>
		
  <p class="article-time">
    <time datetime="2018-03-26T14:00:03.000Z" itemprop="datePublished"> 发表于 2018-03-26</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#运行效果"><span class="toc-number">1.</span> <span class="toc-text">运行效果</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#script-py"><span class="toc-number">2.</span> <span class="toc-text">script.py</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#user-py"><span class="toc-number">3.</span> <span class="toc-text">user.py</span></a></li></ol>
		
		</div>
		
		<p>首先吐槽下学校，我在学校带个信息安全社团，社团联合会那边经常很多形式主义的活动，没有实际意义，但是还得必须做，很烦，其中尤其这个会长测评，让大一的会员一个一个的做，还得催着交截图，很麻烦，于是就自己写了个自动化的，就是效率低点，不过挺实用的<br>功能已经实现了，先贴代码，详细的日后再写</p>
<a id="more"></a>
<h2 id="运行效果"><a href="#运行效果" class="headerlink" title="运行效果"></a>运行效果</h2><p><img src="\img\images\python自动化会长测评\001.gif" alt="images"></p>
<h2 id="script-py"><a href="#script-py" class="headerlink" title="script.py"></a>script.py</h2><pre><code># coding=utf-8
from selenium import webdriver
import random,time
import user

def request_url(url):
    options = webdriver.ChromeOptions()
    options.add_argument(&apos;User-Agent=&quot;Mozilla/5.0 (Linux; U; Android 2.3.6; zh-cn; GT-S5660 Build/GINGERBREAD) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1 MicroMessenger/4.5.255&quot;&apos;)
    drive=webdriver.Chrome(chrome_options=options)
    drive.get(url)
    try:
        post_from(drive)
    except:
        drive.close()
        return &apos;a&apos;

def post_from(drive):
    name = user.name().decode(&apos;utf-8&apos;)
    advise = user.advice().decode(&apos;utf-8&apos;)
    drive.find_element_by_id(&apos;5ab113d992beb51853e24996&apos;).send_keys(name)
    time.sleep(3)
    drive.find_element_by_xpath(&quot;.//*[@id=&apos;question_5ab113d992beb51853e2498b&apos;]/div[2]/ul/li[1]/div/span&quot;).click()
    drive.find_element_by_xpath(&quot;.//*[@id=&apos;question_5ab113d992beb51853e2498c&apos;]/div[2]/ul/li[1]/div/span&quot;).click()
    js = &quot;var q=document.documentElement.scrollTop=555&quot;
    drive.execute_script(js)
    drive.find_element_by_xpath(&quot;.//*[@id=&apos;question_5ab113d992beb51853e2498d&apos;]/div[2]/ul/li[1]/div/span&quot;).click()
    drive.find_element_by_xpath(&quot;.//*[@id=&apos;question_5ab113d992beb51853e2498e&apos;]/div[2]/ul/li[1]/div/span&quot;).click()
    js = &quot;var q=document.documentElement.scrollTop=1055&quot;
    drive.execute_script(js)
    drive.find_element_by_xpath(&quot;.//*[@id=&apos;question_5ab113d992beb51853e2498e&apos;]/div[2]/ul/li[1]/div/span&quot;).click()
    drive.find_element_by_xpath(&quot;.//*[@id=&apos;question_5ab113d992beb51853e2498f&apos;]/div[2]/ul/li[1]/div/span&quot;).click()
    js = &quot;var q=document.documentElement.scrollTop=1555&quot;
    drive.execute_script(js)
    drive.find_element_by_xpath(&quot;.//*[@id=&apos;question_5ab113d992beb51853e24990&apos;]/div[2]/ul/li[1]/div/span&quot;).click()
    drive.find_element_by_xpath(&quot;.//*[@id=&apos;question_5ab113d992beb51853e24991&apos;]/div[2]/ul/li[1]/div/span&quot;).click()
    js = &quot;var q=document.documentElement.scrollTop=2000&quot;
    drive.execute_script(js)
    drive.find_element_by_xpath(&quot;.//*[@id=&apos;question_5ab113d992beb51853e24992&apos;]/div[2]/ul/li[1]/div/span&quot;).click()
    drive.find_element_by_xpath(&quot;.//*[@id=&apos;question_5ab113d992beb51853e24993&apos;]/div[2]/ul/li[1]/div/span&quot;).click()
    drive.find_element_by_xpath(&quot;.//*[@id=&apos;question_5ab113d992beb51853e24994&apos;]/div[2]/ul/li[1]/div/span&quot;).click()
    drive.find_element_by_id(&apos;5ab113da92beb51853e249c9&apos;).send_keys(advise)
    drive.find_element_by_xpath(&quot;.//*[@id=&apos;next_button&apos;]&quot;).click()
    time.sleep(3)
    drive.close()

def randoms():
    seq = &apos;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_0123456789&apos;
    randomlist = []
    randomlist.append(&apos;obncMj&apos;+&apos;&apos;.join(random.sample(seq,22)))
    randomlist.append(&apos;4_&apos; + &apos;&apos;.join(random.sample(seq,107)))
    return randomlist
if __name__ == &quot;__main__&quot;:
    i = 0
    while(i&lt;20):
        url = &apos;https://www.wenjuan.in/s/eqe6Bn/?openid=&apos;+randoms()[0]+&apos;&amp;token=&apos;+randoms()[1]+&apos;&amp;bookid=default&apos;
        if not request_url(url):
            i=i+1
            print &apos;成功做完第%d份测评问卷&apos;%i
        else:
            continue
    print &apos;结束&apos;
</code></pre><h2 id="user-py"><a href="#user-py" class="headerlink" title="user.py"></a>user.py</h2><pre><code># coding=utf-8
import random
s = &quot;&quot;&quot;刘秋一
闫璨
高楚楚
王雪冰
崔芳婵
刘晓曼
佘昌臻
江宇婷
马彩虹
王秋懿
李俊潇
李仙静
黄俊宇
孙雯雯
秦凯悦
徐帆
赵倩雨
夏海文
张博钧
孔祥荣
孙世毓
周梦杰
刘佳慧
李杰
牛超群
陈孟豪
董玉娟
孙允振
周慧敏
崔晓雪
魏玉莹
孟营
耿梅君
林莉
刘兴娟
李文宇
褚会莹
许志港
李莹
王晓琳
陈梦瑶
庞习薇
张桂苗
王慧春
李敏
张帅帅
李玉维
赵秀宁
吕娟
孙琦
陈嘉璐
杨睿
王萱
吕莹莹
张超楠
董丽月
刘雪洋
冯雨枫
马铱阳
李青青
王淑雅
李桐
迟文婧
代影
韩晓蝶
石瑶
周海良
李钰菡
王淑云
陈凯旋
尹珺
郭红菲
王梦茹
苏文慧
谭铃钰
常梦雨
赵彤
陈莎
陈宁鑫
刘力源
孙雪铭
聂慧娟
徐炎
李晨旭
刘孟雨
薛洁
袁瑜敏
许京硕
邓为
张洁
张文青
王兴悦
张湘林
杜文静
宁金月
牛鲁慧
赵卓
李俊宝
关惠心
贾秀滢
张坤
任梦珂
宋乐明
韩蕾
滕秀青
李娆
张雨晴
常淑慧
耿志远
王硕
段忠洁
王瀚婧
冯晓兰
李德彦
李若冰
吕怡霖
孙悦
薛红梅
王泽
王玲雪
周冉
王毓晖
董梦瑶
陈属灵
吴非凡
王芯萌
矫粟粟
赵孜宇
田茹艳
刘道玉
孙悦
李越洋
黄腾慧
梁超月
孟甜甜
孙艳慧
朱兆芳
刘益彤
隋雨萌
山惠媛
周莹莹
张振江
朱东旭
刘秀
姜晓惠
徐晓洁
史东慧
魏敏玲
曹梦婷
赵菲菲
王昊
王雪迪
张来胜
杜文艳
田曦
张鑫一
李向荣
丁鑫鉴
王珩琨
严守彩
刘呈祥
刘海彤
张淑洁
袁姗姗
王胜杰
盖雅璐
陈思琳
耿晓曦
李继婷
周立杰
李烨茹
刘俊言
艾伟杰
康多加
王凯霞
付玮
周丽丽
张玥
张新月
任慧
高馨笛
刘智宇
王学敏
董文浩
&quot;&quot;&quot;
text = &quot;&quot;&quot;
wu
挺好的
京东fig就哦i地方
哦哦哦哦哦哦
很好，棒棒哒！
会长加油
再接再厉，更好的发展
666
棒棒哒
哦i急哦急哦i就
欸欸欸欸欸i欸欸
可以的
非常好的社团
a
b
c
d
asdkjfiodsh
aopisjdiof
快乐不是因为得到的多而是因为计较的少!
待人对事不要太计较，如果太计较就会有悔恨!
把艰辛的劳作看作是生命的必然，即使没有收获的希望也心平气和的继续。
前有阻碍，奋力把它冲开，运用炙热的激情，转动心中的期待，血在澎湃，吃苦流汗算什么。
失败是什么?没有什么，只是更走近成功一步;成功是什么?就是走过了所有通向失败的路，只剩下一条路，那就是成功的路。
相信梦想是价值的源泉，相信眼光决定未来的一切，相信成功的信念比成功本身更重要，相信人生有挫折没有失败，相信生命的质量来自决不妥协的信念。
如果心胸不似海，又怎能有海一样的事业。
命运如同手中的掌纹，无论多曲折，终掌握在自己手中。
真正的强者，不是流泪的人，而是含泪奔跑的人。
只做第一个我，不做第二个谁。
只有经历过地狱般的折磨，才有征服天堂的力量。只有流过血的手指才能弹出世间的绝唱。
穷则思变，差则思勤!没有比人更高的山没有比脚更长的路。
人生没有彩排，每天都是现场直播。
带着感恩的心启程，学会爱，爱父母，爱自己，爱朋友，爱他人。
用爱生活，你会使自己幸福!用爱工作，你会使很多人幸福!
流过泪的眼睛更明亮，滴过血的心灵更坚强!
当世界给草籽重压时，它总会用自己的方法破土而出。
既然人生的幕布已经拉开，就一定要积极的演出;既然脚步已经跨出，风雨坎坷也不能退步;既然我已把希望播在这里，就一定要坚持到胜利的谢幕……
我们可以失望，但不能盲目。
天再高又怎样，踮起脚尖就更接近阳光。
微笑拥抱每一天，做像向日葵般温暖的人。
别小看任何人，越不起眼的人。往往会做些让人想不到的事。
没有伞的孩子必须努力奔跑!
我们什么都没有，唯一的本钱就是青春。梦想让我与众不同，奋斗让我改变命运!
你不勇敢，没人替你坚强!
自信的生命最美丽!
学会宽容，要有一颗宽容的爱心!
心有多大，舞台就有多大。
自己选择的路跪着也要把它走完。
业精于勤，荒于嬉;行成于思，毁于随。
原以为“得不到”和“已失去”是最珍贵的，可…原来把握眼前才是最重要的。
我不去想是否能够成功，既然选择了远方，便只顾风雨兼程!
我走得很慢，但我从不后退!
这个社会是存在不公平的，不要抱怨，因为没有用!人总是在反省中进步的!
不要轻易用过去来衡量生活的幸与不幸!每个人的生命都是可以绽放美丽的——只要你珍惜。
没有创造的生活不能算生活，只能算活着。
志在山顶的人，不会贪念山腰的风景
没有一种不通过蔑视忍受和奋斗就可以征服的命运。
生活不是等待风暴过去，而是学会在雨中翩翩起舞。
你可以很有个性，但某些时候请收敛。
&quot;&quot;&quot;
def name():
    name = s.split(&apos;\n&apos;)
    number = int(random.uniform(0,len(name)))
    return name[number]

def advice():
    name = text.split(&apos;\n&apos;)
    number = int(random.uniform(0,len(name)))
    return name[number]
</code></pre>  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/编程开发/">编程开发</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/selenium/">selenium</a><a href="/tags/自动化/">自动化</a><a href="/tags/python/">python</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://flag0.com/2018/03/26/python自动化测试会长测评/" data-title="python+selenium实现自动化会长测评 | GetFlag&#39;s Blog" data-tsina="" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 

<div class="next">
<a href="/2018/03/24/强网杯-misc-welcome/"  title="">
 <strong>下一篇：</strong><br/> 
 <span>(no title)
</span>
</a>
</div>

</nav>

	



</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#运行效果"><span class="toc-number">1.</span> <span class="toc-text">运行效果</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#script-py"><span class="toc-number">2.</span> <span class="toc-text">script.py</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#user-py"><span class="toc-number">3.</span> <span class="toc-text">user.py</span></a></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/安全竞赛/" title="安全竞赛">安全竞赛<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/编程开发/" title="编程开发">编程开发<sup>4</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/铁人三项/" title="铁人三项">铁人三项<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/综合渗透/" title="综合渗透">综合渗透<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/python/" title="python">python<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/docker/" title="docker">docker<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/笔记/" title="笔记">笔记<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/XAMPP/" title="XAMPP">XAMPP<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/error/" title="error">error<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/攻击脚本/" title="攻击脚本">攻击脚本<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/selenium/" title="selenium">selenium<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/自动化/" title="自动化">自动化<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Writeup/" title="Writeup">Writeup<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/php/" title="php">php<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/pdo/" title="pdo">pdo<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/AWD/" title="AWD">AWD<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Wireshark/" title="Wireshark">Wireshark<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="http://www.cnblogs.com/test404" target="_blank" title="胖虎">胖虎</a>
            
          </li>
        
    </ul>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	
	<section class="info">
		<p> Rise and rise again until lambs become lions <br/>
			Everyone can cook, but only those who dare to try can become the real chef.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		<a href="https://github.com/https://github.com/flag0" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		
		
		
		
		<a href="mailto:root@flag0.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2018 
		
		<a href="/about" target="_blank" title="GetFlag">GetFlag</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>











<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
